import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs';
import { withDesign } from 'storybook-addon-designs';
import AllInclusiveIcon from '@mui/icons-material/AllInclusive';

import SuggestedActionAccordion from './SuggestedActionAccordion';
import SuggestedAction from '../SuggestedAction';
import Box from '../Box';

export const argTypes = {
  variant: {
    control: { type: "select" },
    options: ["green", "yellow", "red", "greyscale"],
    defaultValue: "green",
    type: { required: true },
    table: {
      type: {
        summary: '"green" | "yellow" | "red" | "greyscale"',
      },
    },
  },
  groupTitle: {
    defaultValue: 'Ready for action',
    control: { type: 'text' },
    table: {
      type: { summary: 'string' },
    },
  },
  numItems: {
    defaultValue: 3,
    control: { type: 'number' },
    table: {
      type: { summary: 'number' },
    },
  },
  highlightNumber: {
    defaultValue: false,
    control: { type: 'boolean' },
    table: {
      type: { summary: 'boolean' },
    },
  },
  children: {
    defaultValue: new Array(3).fill(null).map(_ =>
      <SuggestedAction
        variant="green"
        description="Harry Homeowner has signed Roofing Contract"
        onClickMenu={() => null}
        cta="Send an invoice"
        ctaAction={() => null}
      />
    ),
    table: {
      type: { summary: 'ReactNode' },
    },
  },
  disabled: {
    defaultValue: false,
    control: { type: 'boolean' },
    table: {
      type: { summary: 'boolean' },
    },
  },
};

<Meta
  title="Molecules/SuggestedActionAccordion"
  component={SuggestedActionAccordion}
  argTypes={argTypes}
  parameters={{
    layout: 'padded',
    design: {
      type: 'figma',
      url: 'https://www.figma.com/file/xfmzo1QWKiFbf2tx7Q2NUa/HAJIMARI-Design-System?node-id=1228%3A11694',
    },
  }}
/>

export const SuggestedActionAccordionTemplate = (args) => <SuggestedActionAccordion {...args} />;

# SuggestedActionAccordion

**DATE ADDED**: 05/27/22 | **PROJECT**: [Suggested Actions/Notifications](https://www.notion.so/gethearth/Suggested-Action-Notification-44baf25d61db4f67afc5e92752134614)

A `SuggestedActionAccordion` is an expandable and collapsible
container for `SuggestedAction` components.

<br />

---

<br />

### Usage and examples

It has a `variant` attribute, which determines the color of the circle on the left. It
has a `groupTitle` attribute, which sets the text displayed in the header. It has a `numItems`
attribute, which should correspond to the number of child elements (e.g., `SuggestedAction`
components) and sets the number adjacent to the dropdown icon. It has a `highlightNumber`
attribute, which determines whether the number adjacent to the dropdown icon has a blue
background; this is useful for emphasizing new items and is false by default. The component
also accepts all parameters in `AccordionProps`. This is most useful for adding a `disabled`
attribute, which determines whether the component renders in a disabled state.

<br />

#### Default / Basic:

> The most basic usage of a `SuggestedActionAccordion`. The accordion is collapsed by default.

<Canvas>
  <Story
    name="Basic"
    component={SuggestedActionAccordion}
    args={{
      variant: 'green',
      groupTitle: 'Ready for action',
      numItems: 3,
      children: new Array(3).fill(null).map(_ =>
        <SuggestedAction
          variant="green"
          description="Harry Homeowner has signed Roofing Contract"
          onClickMenu={() => null}
          cta="Send an invoice"
          ctaAction={() => null}
        />
      ),
    }}
  >
    {SuggestedActionAccordionTemplate.bind()}
  </Story>
</Canvas>

#### Controlled expand and collapse:

> You can control whether the accordion is expanded or collapsed by passing in
> a value for `expanded`. In practice, this will be a `useState` hook.

<Canvas>
  <Story
    name="Controlled"
    component={SuggestedActionAccordion}
    args={{
      variant: 'green',
      groupTitle: 'Ready for action',
      numItems: 3,
      children: new Array(3).fill(null).map(_ =>
        <SuggestedAction
          variant="green"
          description="Harry Homeowner has signed Roofing Contract"
          onClickMenu={() => null}
          cta="Send an invoice"
          ctaAction={() => null}
        />
      ),
      expanded: true,
    }}
  >
    {SuggestedActionAccordionTemplate.bind()}
  </Story>
</Canvas>

#### Disabled:

> You can control whether the accordion is disabled by passing in
> a value for `disabled`.

<Canvas>
  <Story
    name="Disabled"
    component={SuggestedActionAccordion}
    args={{
      variant: 'green',
      groupTitle: 'Ready for action',
      numItems: 0,
      children: null,
      disabled: true,
    }}
  >
    {SuggestedActionAccordionTemplate.bind()}
  </Story>
</Canvas>

#### Highlight number of items:

> Under various circumstances (e.g., an unviewed suggested action), you may
> want to highlight the number of items. You can do this by setting `highlightNumber`
> to true.

<Canvas>
  <Story
    name="Highlight Number"
    component={SuggestedActionAccordion}
    args={{
      variant: 'green',
      groupTitle: 'Ready for action',
      numItems: 3,
      children: new Array(3).fill(null).map(_ =>
        <SuggestedAction
          variant="green"
          description="Harry Homeowner has signed Roofing Contract"
          onClickMenu={() => null}
          cta="Send an invoice"
          ctaAction={() => null}
        />
      ),
      highlightNumber: true,
    }}
  >
    {SuggestedActionAccordionTemplate.bind()}
  </Story>
</Canvas>

### Playground

<Canvas>
  <Story name="Playground">{SuggestedActionAccordionTemplate.bind()}</Story>
</Canvas>

<ArgsTable of={SuggestedActionAccordion} story="Playground" />
